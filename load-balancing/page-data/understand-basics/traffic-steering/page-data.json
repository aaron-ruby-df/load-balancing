{"componentChunkName":"component---src-components-mdx-custom-renderer-js","path":"/understand-basics/traffic-steering","result":{"data":{"mdx":{"id":"7b90cd7e-30b8-5347-849a-07bfd66ef2b4","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"order\": 12\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h1\", {\n    \"id\": \"traffic-steering\"\n  }, \"Traffic steering\"), mdx(\"h2\", {\n    \"id\": \"overview\"\n  }, \"Overview\"), mdx(\"p\", null, \"Load Balancing provides several traffic steering modes, which allow customers to optimize how load balancers route traffic. You can configure Traffic Steering from the Load Balancing dashboard, in either the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Create a Load Balancer\"), \" wizard or the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Edit Load Balancer\"), \" panel. You can also configure Traffic Steering via the Cloudflare API. Available steering options include standard failover (steering disabled), Dynamic Steering, and Geo Steering.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"1382px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/load-balancing/static/ebcf1f84d8a8eb58b974105d8fdfe8cb/29007/traffic-steering-1.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"27.167630057803464%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAIAAADKYVtkAAAACXBIWXMAAAsSAAALEgHS3X78AAAAeElEQVQY052N3QqAIAxGe/+X9EIQJS3/EFGzPjYkuu2A49vwbFtrzTlnjNFaHwRarjnnMUYn8K0v7sWGt+9WCMFmjDGEkFIKhPceGUMEVJ7POV8ZjpTSWuuJk8CwlILjcPICcq31cxmCUgoCtrLJWy5iLDijfuTfPKfFIUOcTtaVAAAAAElFTkSuQmCC')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"traffic steering 1\",\n    \"title\": \"traffic steering 1\",\n    \"src\": \"/load-balancing/static/ebcf1f84d8a8eb58b974105d8fdfe8cb/f868f/traffic-steering-1.png\",\n    \"srcSet\": [\"/load-balancing/static/ebcf1f84d8a8eb58b974105d8fdfe8cb/8f77f/traffic-steering-1.png 346w\", \"/load-balancing/static/ebcf1f84d8a8eb58b974105d8fdfe8cb/e185b/traffic-steering-1.png 691w\", \"/load-balancing/static/ebcf1f84d8a8eb58b974105d8fdfe8cb/f868f/traffic-steering-1.png 1382w\", \"/load-balancing/static/ebcf1f84d8a8eb58b974105d8fdfe8cb/29007/traffic-steering-1.png 1600w\"],\n    \"sizes\": \"(max-width: 1382px) 100vw, 1382px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"standard-failover\"\n  }, \"Standard failover\"), mdx(\"p\", null, \"Standard failover directs traffic from unhealthy pools to the next healthy pool in the configuration.\"), mdx(\"p\", null, \"Standard failover uses the pool order to determine failover priority (the failover order).\"), mdx(\"p\", null, \"If all pools are marked unhealthy, Load Balancing will direct traffic to the fallback pool. The default fallback pool is the last pool listed in the Load Balancing configuration.\"), mdx(\"p\", null, \"To nominate a specific fallback pool via the Cloudflare API, use the Update Load Balancers command and set the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fallback_pool\"), \" parameter. See \", mdx(\"em\", {\n    parentName: \"p\"\n  }, mdx(\"a\", {\n    parentName: \"em\",\n    \"href\": \"/load-balancing/understand-basics/load-balancers/\"\n  }, \"Load Balancers\")), \" for details.\"), mdx(\"p\", null, \"If no monitors are attached to the load balancer, it will direct traffic to the primary pool exclusively.\"), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"dynamic-steering\"\n  }, \"Dynamic Steering\"), mdx(\"p\", null, \"Dynamic Steering uses health check data to identify the fastest pool for a given Cloudflare Region or point of presence.\"), mdx(\"p\", null, \"Dynamic Steering creates Round Trip Time (RTT) profiles based on an exponential weighted moving average (EWMA) of RTT to determine the fastest pool. If there is no current RTT data for your pool in a region or colocation center, Cloudflare directs traffic to the pools in failover order.\"), mdx(\"p\", null, \"When enabling Dynamic Steering the first time for a server pool, allow 10 minutes for the change to take effect while Cloudflare builds an RTT profile for that pool.\"), mdx(\"p\", null, \"For TCP health checks, calculated latency may not reflect the true latency to the origin if you are terminating TCP at a cloud provider edge location.\"), mdx(\"p\", null, \"The diagram below shows how Cloudflare would route traffic to the pool with the lowest EWMA among three regions: Eastern North America, Europe, and Australia. In this case, the ENAM pool is selected, because it has the lowest RTT.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/load-balancing/static/4456f8ce86e707fe15ad162399e3826c/d9199/traffic-steering-2.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"101.44508670520231%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"img\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"alt\": \"traffic steering 2\",\n    \"title\": \"traffic steering 2\",\n    \"src\": \"/load-balancing/static/4456f8ce86e707fe15ad162399e3826c/d9199/traffic-steering-2.png\",\n    \"srcSet\": [\"/load-balancing/static/4456f8ce86e707fe15ad162399e3826c/8f77f/traffic-steering-2.png 346w\", \"/load-balancing/static/4456f8ce86e707fe15ad162399e3826c/e185b/traffic-steering-2.png 691w\", \"/load-balancing/static/4456f8ce86e707fe15ad162399e3826c/d9199/traffic-steering-2.png 960w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    },\n    \"loading\": \"lazy\"\n  }), \"\\n  \"), \"\\n    \")), mdx(\"hr\", null), mdx(\"h2\", {\n    \"id\": \"geo-steering\"\n  }, \"Geo Steering\"), mdx(\"p\", null, \"Geo Steering directs traffic to pools based on the client\\u2019s region or PoP. Only domains on Enterprise plans can perform Geo Steering by PoP. Users specify the pools to which the load balancer should direct traffic for a given geographical region or PoP. You can assign multiple pools to the same region, and the load balancer will use them in failover order. If there is no configuration for a region or pool, the load balancer will use the default failover order.\"), mdx(\"p\", null, \"Cloudflare has 13 geographic regions that span the world. The region of a client is determined by the region of the Cloudflare data center that answers the client\\u2019s DNS query. These regions are listed below, along with their region codes.\"), mdx(\"table\", null, mdx(\"thead\", null, mdx(\"tr\", null, mdx(\"th\", null, \"Region Code\"), mdx(\"th\", null, \"Region\"))), mdx(\"tbody\", null, mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"WNAM\")), mdx(\"td\", null, \"Western North America\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"ENAM\")), mdx(\"td\", null, \"Eastern North America\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"WEU\")), mdx(\"td\", null, \"Western Europe\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"EEU\")), mdx(\"td\", null, \"Eastern Europe\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"NSAM\")), mdx(\"td\", null, \"Northern South America\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"SSAM\")), mdx(\"td\", null, \"Southern South America\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"OC\")), mdx(\"td\", null, \"Oceania\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"ME\")), mdx(\"td\", null, \"Middle East\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"NAF\")), mdx(\"td\", null, \"Northern Africa\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"SAF\")), mdx(\"td\", null, \"Southern Africa\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"SAS\")), mdx(\"td\", null, \"Southern Asia\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"SEAS\")), mdx(\"td\", null, \"Southeast Asia\")), mdx(\"tr\", null, mdx(\"td\", null, mdx(\"strong\", null, \"NEAS\")), mdx(\"td\", null, \"Northeast Asia\")))));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"demo":null,"difficulty":null,"summary":null,"tags":null,"title":"","type":null,"updated":null}}},"pageContext":{"id":"7b90cd7e-30b8-5347-849a-07bfd66ef2b4","fields":{"slug":"/understand-basics/traffic-steering"},"frontmatter":{"title":"","type":null,"order":12,"hidden":null,"hideChildren":null,"breadcrumbs":null},"headings":[{"value":"Traffic steering","depth":1}],"tableOfContents":{"items":[{"url":"#traffic-steering","title":"Traffic steering","items":[{"url":"#overview","title":"Overview"},{"url":"#standard-failover","title":"Standard failover"},{"url":"#dynamic-steering","title":"Dynamic Steering"},{"url":"#geo-steering","title":"Geo Steering"}]}]},"parent":{"modifiedTime":"2021-02-18","relativePath":"understand-basics/traffic-steering.md"}}},"staticQueryHashes":["1302537747","2814688963","32046230","338033027","811020565"]}